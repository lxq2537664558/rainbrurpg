<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>RainbruRPG: RainbruRPG::Options::xmlLanguage Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="classes.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="namespaceRainbruRPG.html">RainbruRPG</a>::<a class="el" href="namespaceRainbruRPG_1_1Options.html">Options</a>::<a class="el" href="classRainbruRPG_1_1Options_1_1xmlLanguage.html">xmlLanguage</a></div>
<h1>RainbruRPG::Options::xmlLanguage Class Reference</h1><!-- doxytag: class="RainbruRPG::Options::xmlLanguage" --><code>#include &lt;<a class="el" href="xmllanguage_8h-source.html">xmllanguage.h</a>&gt;</code>
<p>
Collaboration diagram for RainbruRPG::Options::xmlLanguage:<p><center><img src="classRainbruRPG_1_1Options_1_1xmlLanguage__coll__graph.png" border="0" usemap="#RainbruRPG_1_1Options_1_1xmlLanguage__coll__map" alt="Collaboration graph"></center>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><a href="classRainbruRPG_1_1Options_1_1xmlLanguage-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
A class used to read and write languages.xml configuration file. 
<p>
The codes use in this file are from KDE (<a href="http://l10n.kde.org/">http://l10n.kde.org/</a>).<p>
First, there is a LastUsed element. If it is empty, the LanguageSelector is shown at startup. The Default element id used to tell the language the original game text are in. So, for the Default language, we don't have to deal with any translation tool.<p>
Then, there is language definitions (french, english...) and for each language there <b>must</b> be at least a country. User can select any Language/Country pair and for each pair a human readable text is done.<p>
For any non-default pair, a CompletePerCent element gives the translation completion state. It is provided for unfinished translation. The default language/country pair does not need a CompletePerCent element as it always translate :)<p>
The LastUsed element of the xml files cannot be empty. If no language was used before (first use), it should be set to None. An empty LastUsed element may cause segfault. 
<p>

<p>
Definition at line <a class="el" href="xmllanguage_8h-source.html#l00065">65</a> of file <a class="el" href="xmllanguage_8h-source.html">xmllanguage.h</a>.<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="dca8345b39f2620f5dbfc2cf27361b32"></a><!-- doxytag: member="RainbruRPG::Options::xmlLanguage::xmlLanguage" ref="dca8345b39f2620f5dbfc2cf27361b32" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRainbruRPG_1_1Options_1_1xmlLanguage.html#dca8345b39f2620f5dbfc2cf27361b32">xmlLanguage</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The default constructor. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a5ae57d52167523ce0160cf33a6f1e83"></a><!-- doxytag: member="RainbruRPG::Options::xmlLanguage::~xmlLanguage" ref="a5ae57d52167523ce0160cf33a6f1e83" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRainbruRPG_1_1Options_1_1xmlLanguage.html#a5ae57d52167523ce0160cf33a6f1e83">~xmlLanguage</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The default destructor. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="namespaceRainbruRPG_1_1Options.html#170a42ce9f17489601d8b6e5209a01ed">RainbruRPG::Options::tLanguageList</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRainbruRPG_1_1Options_1_1xmlLanguage.html#205517499e5313cc21b236e636b614ee">getLanguageList</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a pointer to the loaded language list.  <a href="#205517499e5313cc21b236e636b614ee"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRainbruRPG_1_1Options_1_1xmlLanguage.html#78d2ffdabe1faa05b5368e0d0f93d4bd">refresh</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Refresh the xml document.  <a href="#78d2ffdabe1faa05b5368e0d0f93d4bd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRainbruRPG_1_1Options_1_1xmlLanguage.html#bb83dc54f33e80148e7c241847693a57">isLastUsedEmpty</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Is LastUsed already set ?  <a href="#bb83dc54f33e80148e7c241847693a57"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a7383d34a3a5429b01c57b310f09cf29"></a><!-- doxytag: member="RainbruRPG::Options::xmlLanguage::loadDocument" ref="a7383d34a3a5429b01c57b310f09cf29" args="()" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRainbruRPG_1_1Options_1_1xmlLanguage.html#a7383d34a3a5429b01c57b310f09cf29">loadDocument</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Loads the xml document. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="411e70cac56e1c736c86a1ff470fc2ab"></a><!-- doxytag: member="RainbruRPG::Options::xmlLanguage::loadLastUsed" ref="411e70cac56e1c736c86a1ff470fc2ab" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRainbruRPG_1_1Options_1_1xmlLanguage.html#411e70cac56e1c736c86a1ff470fc2ab">loadLastUsed</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Loads the LastUsed node. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1af872d63fe8426f05ab695eab29c227"></a><!-- doxytag: member="RainbruRPG::Options::xmlLanguage::loadDefault" ref="1af872d63fe8426f05ab695eab29c227" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRainbruRPG_1_1Options_1_1xmlLanguage.html#1af872d63fe8426f05ab695eab29c227">loadDefault</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Loads the default node. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f6e8f874de368cc2ab848752c35e4321"></a><!-- doxytag: member="RainbruRPG::Options::xmlLanguage::treatAllLanguages" ref="f6e8f874de368cc2ab848752c35e4321" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRainbruRPG_1_1Options_1_1xmlLanguage.html#f6e8f874de368cc2ab848752c35e4321">treatAllLanguages</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get all the language nodes and call TreatOneLanguage for each one. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRainbruRPG_1_1Options_1_1xmlLanguage.html#2d1c525c8adf44cf8663056ac538f9d5">treatOneLanguage</a> (TiXmlElement *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates and feeds a <a class="el" href="classRainbruRPG_1_1Options_1_1LanguageListItem.html">LanguageListItem</a> for a single language node.  <a href="#2d1c525c8adf44cf8663056ac538f9d5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="d7b1f00101ac07fdcbcde95a30eb1258"></a><!-- doxytag: member="RainbruRPG::Options::xmlLanguage::treatLanguageCountries" ref="d7b1f00101ac07fdcbcde95a30eb1258" args="(TiXmlElement *, const LanguageListItem &amp;)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRainbruRPG_1_1Options_1_1xmlLanguage.html#d7b1f00101ac07fdcbcde95a30eb1258">treatLanguageCountries</a> (TiXmlElement *, const <a class="el" href="classRainbruRPG_1_1Options_1_1LanguageListItem.html">LanguageListItem</a> &amp;)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Treat all countries of a single language. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3fe8c9a662162089b1c8bb5852bfe350"></a><!-- doxytag: member="RainbruRPG::Options::xmlLanguage::treatCountry" ref="3fe8c9a662162089b1c8bb5852bfe350" args="(TiXmlElement *, const LanguageListItem &amp;)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRainbruRPG_1_1Options_1_1xmlLanguage.html#3fe8c9a662162089b1c8bb5852bfe350">treatCountry</a> (TiXmlElement *, const <a class="el" href="classRainbruRPG_1_1Options_1_1LanguageListItem.html">LanguageListItem</a> &amp;)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Treat a single country. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="66f6a68a9deec89b10963bf5abd551d3"></a><!-- doxytag: member="RainbruRPG::Options::xmlLanguage::getCommonCode" ref="66f6a68a9deec89b10963bf5abd551d3" args="(TiXmlElement *)" -->
const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRainbruRPG_1_1Options_1_1xmlLanguage.html#66f6a68a9deec89b10963bf5abd551d3">getCommonCode</a> (TiXmlElement *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the Code of a language or a country node. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="67d5e7cd5bee30d36796e1afdbf0bb8c"></a><!-- doxytag: member="RainbruRPG::Options::xmlLanguage::getCommonText" ref="67d5e7cd5bee30d36796e1afdbf0bb8c" args="(TiXmlElement *)" -->
const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRainbruRPG_1_1Options_1_1xmlLanguage.html#67d5e7cd5bee30d36796e1afdbf0bb8c">getCommonText</a> (TiXmlElement *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the Text of a language or a country node. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2cfe11d45bce01ea6db71e077404f6bf"></a><!-- doxytag: member="RainbruRPG::Options::xmlLanguage::getCountryPerCent" ref="2cfe11d45bce01ea6db71e077404f6bf" args="(TiXmlElement *)" -->
float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRainbruRPG_1_1Options_1_1xmlLanguage.html#2cfe11d45bce01ea6db71e077404f6bf">getCountryPerCent</a> (TiXmlElement *)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the CompletePerCent value of a country. <br></td></tr>
<tr><td colspan="2"><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="d217981e708b8bca490cd7bfcb7ecfc6"></a><!-- doxytag: member="RainbruRPG::Options::xmlLanguage::languageList" ref="d217981e708b8bca490cd7bfcb7ecfc6" args="" -->
<a class="el" href="namespaceRainbruRPG_1_1Options.html#170a42ce9f17489601d8b6e5209a01ed">tLanguageList</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRainbruRPG_1_1Options_1_1xmlLanguage.html#d217981e708b8bca490cd7bfcb7ecfc6">languageList</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The created list of language. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="45aae7512569e8629ec7f438412acab0"></a><!-- doxytag: member="RainbruRPG::Options::xmlLanguage::filename" ref="45aae7512569e8629ec7f438412acab0" args="" -->
std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRainbruRPG_1_1Options_1_1xmlLanguage.html#45aae7512569e8629ec7f438412acab0">filename</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The filename of languages.xml. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="d9b3846630c9f1c01e70a527b6d26650"></a><!-- doxytag: member="RainbruRPG::Options::xmlLanguage::doc" ref="d9b3846630c9f1c01e70a527b6d26650" args="" -->
TiXmlDocument *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRainbruRPG_1_1Options_1_1xmlLanguage.html#d9b3846630c9f1c01e70a527b6d26650">doc</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The global xml document pointer. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c00bed510910bef06a260c7dfcb10209"></a><!-- doxytag: member="RainbruRPG::Options::xmlLanguage::root" ref="c00bed510910bef06a260c7dfcb10209" args="" -->
TiXmlElement *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRainbruRPG_1_1Options_1_1xmlLanguage.html#c00bed510910bef06a260c7dfcb10209">root</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A global pointer to the <code>PlayerList</code> xml node. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1bf6c8a51f3640baf19f02aa6f3e1f68"></a><!-- doxytag: member="RainbruRPG::Options::xmlLanguage::lastUsed" ref="1bf6c8a51f3640baf19f02aa6f3e1f68" args="" -->
const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRainbruRPG_1_1Options_1_1xmlLanguage.html#1bf6c8a51f3640baf19f02aa6f3e1f68">lastUsed</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The last used language. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="7ea607b8d2c0ee918b74427a402a0fd2"></a><!-- doxytag: member="RainbruRPG::Options::xmlLanguage::defaultLang" ref="7ea607b8d2c0ee918b74427a402a0fd2" args="" -->
const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRainbruRPG_1_1Options_1_1xmlLanguage.html#7ea607b8d2c0ee918b74427a402a0fd2">defaultLang</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The default language. <br></td></tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="205517499e5313cc21b236e636b614ee"></a><!-- doxytag: member="RainbruRPG::Options::xmlLanguage::getLanguageList" ref="205517499e5313cc21b236e636b614ee" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceRainbruRPG_1_1Options.html#170a42ce9f17489601d8b6e5209a01ed">RainbruRPG::Options::tLanguageList</a> * RainbruRPG::Options::xmlLanguage::getLanguageList           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get a pointer to the loaded language list. 
<p>
Do not keep this pointer. The list it pointed to will be deleted in ~xmlLanguage.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The pointer </dd></dl>

<p>
Definition at line <a class="el" href="xmllanguage_8cpp-source.html#l00104">104</a> of file <a class="el" href="xmllanguage_8cpp-source.html">xmllanguage.cpp</a>.
</div>
</div><p>
<a class="anchor" name="78d2ffdabe1faa05b5368e0d0f93d4bd"></a><!-- doxytag: member="RainbruRPG::Options::xmlLanguage::refresh" ref="78d2ffdabe1faa05b5368e0d0f93d4bd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RainbruRPG::Options::xmlLanguage::refresh           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Refresh the xml document. 
<p>
It calls <a class="el" href="classRainbruRPG_1_1Options_1_1xmlLanguage.html#a7383d34a3a5429b01c57b310f09cf29">loadDocument()</a> to reload the xml file.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><code>false</code> if the operation failed, otherwise <code>true</code>. </dd></dl>

<p>
Definition at line <a class="el" href="xmllanguage_8cpp-source.html#l00115">115</a> of file <a class="el" href="xmllanguage_8cpp-source.html">xmllanguage.cpp</a>.
</div>
</div><p>
<a class="anchor" name="bb83dc54f33e80148e7c241847693a57"></a><!-- doxytag: member="RainbruRPG::Options::xmlLanguage::isLastUsedEmpty" ref="bb83dc54f33e80148e7c241847693a57" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RainbruRPG::Options::xmlLanguage::isLastUsedEmpty           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Is LastUsed already set ? 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><code>true</code> if the LanguageSelector must be execute </dd></dl>

<p>
Definition at line <a class="el" href="xmllanguage_8cpp-source.html#l00316">316</a> of file <a class="el" href="xmllanguage_8cpp-source.html">xmllanguage.cpp</a>.
</div>
</div><p>
<a class="anchor" name="2d1c525c8adf44cf8663056ac538f9d5"></a><!-- doxytag: member="RainbruRPG::Options::xmlLanguage::treatOneLanguage" ref="2d1c525c8adf44cf8663056ac538f9d5" args="(TiXmlElement *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RainbruRPG::Options::xmlLanguage::treatOneLanguage           </td>
          <td>(</td>
          <td class="paramtype">TiXmlElement *&nbsp;</td>
          <td class="paramname"> <em>e</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates and feeds a <a class="el" href="classRainbruRPG_1_1Options_1_1LanguageListItem.html">LanguageListItem</a> for a single language node. 
<p>
The created <a class="el" href="classRainbruRPG_1_1Options_1_1LanguageListItem.html">LanguageListItem</a> sin't push_back here. It is passed to treatLanguageCountries to be pushed back later as each Language/Country pair is a new entry in the language list 
<p>
Definition at line <a class="el" href="xmllanguage_8cpp-source.html#l00188">188</a> of file <a class="el" href="xmllanguage_8cpp-source.html">xmllanguage.cpp</a>.
</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>common/<a class="el" href="xmllanguage_8h-source.html">xmllanguage.h</a><li>common/<a class="el" href="xmllanguage_8cpp-source.html">xmllanguage.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Wed Apr 4 15:30:45 2007 for RainbruRPG by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1 </small></address>
</body>
</html>
